---
name:  geocloud004
title: 地球云计算 004：Google Earth Engine小史
date:  2017-4-10
tags: 地球云计算
---
<!-- more -->
![](/cnblog/uploads/geocloud004.jpg)

先放几个名词解释：

Google Earth Engine：Google 的地计算可视化云平台。

Geodata Pipleline：地理数据处理链线，有人喜欢叫工作流（workflow），有人喜欢叫processing（数据处理），都可以。Pipe是从Linux过来的概念，意思是将上一个命令的输出作为下一个命令的输出。这样的话数据处理结果是文件、还是字符流、还是数据库就都被抽象掉了。我很喜欢这个概念，因为遥感数据里也是各种类型文件、各种处理，比较乱，用pipeline比workflow一类的宽泛概念要强得多。

卫星日夜不停监测地球表面，并把数据传回地面的接受中心，有史以来第一次产生了物理意义上的海量数据。我去过地质调查局EROS数据中心，七十年代以来的磁带堆满了地下室，有的古董调度程序还是在用DOS底下运行的，可怖的图形界面泛着绿光，机器嘎嘎作响，提示人类在收集、处理这些数据上已经行之有年。

卫星遥感数据的分发与处理，之前一直是像NASA、NOAA这些部门，自己屙屎自己埋。把数据接收下来以后，再搭一个分发平台供大家下载，为了方便使用，又要提供一些软件工具，提供读取、转换、可视化等功能。这些软件工具由一些兼职程序员随手写来，软件开发方面既没有用户设计，也没有产品经理。开发者中有的是CPP死忠粉，有的是Java战士，有的喜欢摇滚乐， 有的喜欢猫。经过他们的长期努力之后，数据和工具就真的变成为乱七八糟的一坨，让人望之头痛不止。除了像我这样的变态不觉可憎，反而见猎心喜，舍得花时间扒各种文档标准，喜孜孜用各种工具和函数库搭pipeline。大家不得不把主要的时间花在论坛，stackoverflow这样的网站上问问题，问各类数据怎么处理。这只是图像数据（raster），再加上矢量（vector）、训练样本集（sample set）等数据，这酸爽惟局中人可知。好比大家本来是要搞基于3D场景的红楼梦大观园建模，却不得不在各种笔迹、纸张的残章断句上问这是个什么字，写的是几。

科学家们出于自尊心，为了证明自己与蜣螂虫习相近，性相远，就会提出一些想当然的“好点子”，比如用数据计划来加强管理。我参加过数个项目研讨会，会上大家都一本正经地说，我们这个项目想要执行好，就得有个好的数据计划，包括数据的归档、管理、共享、可视化、重用等等。据我了解的，这些说法都是随便喷的，实际中根本没人愿意弄。

这样一来，一个最典型的遥感应用，就包括了数据获取与下载，各种预处理与转换，进入模型计算、后处理，再进入数据库以支持数据可视化和网络查询。如果将多源的数据融合作为数据源，破事就会更多，辛苦搭起来的pipeline也就会更破。

这里要插一句，NASA对于科研项目管理的实践经验是巨量的钱堆出来的。我在档案馆里见到海量项目管理的白皮书（包括有对前苏联各种航天计划的分析和追踪）。但是，要求NASA把数据应用平台也做得老少咸宜、皆大欢喜，基本上就等同于要求中国电信做出一统江山的微信，纯属无礼要求。我今天是没有时间，有时间的话给大家截几个软件界面，大家就可以了解到这些兼职开发者们是怀着何种恶趣味来干活的了。

从2008年开始，手中握有40年Landsat数据的美国地质调查局做了一件贡献颇大之事：承认自家实在变不出新把戏，逐步将1984年以来的所有Landsat存档数据公之于众。Google以网罗天下信息为己任，地信息也不例外，除了在05年发布了Google Earth以后，还与USGS和ESA签了协议，把Landsat和Sentinel-2放到了它的Google Cloud Storage上。大家用脚本从云端抓下数据，就可以直接进pipe了，那是在2011/2012年。同年，Google跟卡耐基梅隆大学、NASA、USGS的人在一起，开始写Earth Engine的雏形，目标是让Landsat数据的处理对于地学研究人员而言彻底透明化。2013年，Earth Engine作为Google内部的孵化项目，开始在行业内曝光，并积极寻求与学界的合作。2016年，Earth Engine的开发团队在一年内翻倍，在Google自己的云平台Google Cloud Platform（GCP）的助力下，开始为新兴的商业遥感应用提供解决方案。

以小见大，从中可以看到培养产业健康生态的两对关系。
一是基础前沿与应用研究的关系，像我国刚发了风云四号A星，作为世界上性能最先进的气象卫星，支持着天气分析和预报、短期气候预测、环境和灾害监测，在遥感传感器技术迅猛发展的同时，如果能把发展后续云处理平台也作为重中之重，把研究人员从数据海洋中解放出来，将时间精力用于产品研发和应用，其投入产出率提高的不是一星半点，同时也将大大提高云计算基础设施的技术水平和储备。航天技术与传感器技术虽是基础，数据分析与处理能力却是打通高水平应用的关键。

二是大政府与商业公司，战略布局与做事逐利的关系。我国在云计算上投入颇多，玩家也众，地计算虽然只是其中的一个小的方面，也可称千头万绪。产学研界，人才鼎盛，并不是什么难事，实在要上，也可考虑像傻熊这样，能掐会算、敢打敢拼，心系祖国的海外赤子。

下篇谈谈云计算的模式和架构，以及地计算的一些特点。